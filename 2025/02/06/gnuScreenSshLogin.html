<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>
      
        Using GNU Screen upon SSH login &middot; xargas.eu
      
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/public/style.css">
    <link rel="stylesheet" href="/public/syntax.css">
  </head>

  <body>
    <div class="navbar">
      <h1>Xargas.eu</h1>
      <p>Private website to write about my hobbies</p>
      <a class="navbar-item" href="/">Home</a>
      
        <a class="navbar-item" href="/blog/">Blog</a>
      
        <a class="navbar-item" href="/3dprint/index.html">3D Printing</a>
      
        <a class="navbar-item" href="/3dmodel/index.html">3D Modeling</a>
      
        <a class="navbar-item" href="/embeddedsw/index.html">Embedded Software</a>
      
      
        <a class="navbar-item" href="/pages/impressum.html">Impressum</a>

      <p>&copy; 2025. All rights reserved.</p>
    </div>
    <div class="content">
      <div class="post post-entry">
  <h1 class="post-title">Using GNU Screen upon SSH login</h1>
  <span class="post-date">06.02.2025</span>
  <hr>
  <div class="post-content"><p>Whenever I log into a remote Linux based machine via SSH, I first start a GNU screen session. Any when I forget, I often regret it when I close the session window, as this also terminates the processes I usually want to continue in the background.</p>

<p>To not be able to forget this, I added</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># for SSH sessions which are not already in gnu screen -&gt; attach to a detached one or create a new session</span>
<span class="k">if</span> <span class="o">[[</span> <span class="o">!</span> <span class="nt">-z</span> <span class="s2">"</span><span class="k">${</span><span class="nv">SSH_CLIENT</span><span class="k">}</span><span class="s2">"</span> <span class="o">&amp;&amp;</span> <span class="nt">-z</span> <span class="s2">"</span><span class="k">${</span><span class="nv">STY</span><span class="k">}</span><span class="s2">"</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then </span>screen <span class="nt">-RR</span><span class="p">;</span> <span class="k">fi</span>
</code></pre></div></div>
<p>at the end of <code class="language-plaintext highlighter-rouge">~/.bashrc</code> to automatically reconnect to a previous screen session, or connect to a new screen session if no detached one is available. It does that only for SSH logins and only if the shell is not already inside a screen session (this avoids recursive loops).</p>

</div>
</div>


    </div>
  </body>
</html>

